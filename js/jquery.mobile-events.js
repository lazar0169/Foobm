"use strict";!function(e){function t(){var e=c();e!==s&&(s=e,u.trigger("orientationchange"))}function a(t,a,o,n){var i=o.type;o.type=a,e.event.dispatch.call(t,o,n),o.type=i}e.attrFn=e.attrFn||{};var o=navigator.userAgent.toLowerCase(),n=o.indexOf("chrome")>-1&&(o.indexOf("windows")>-1||o.indexOf("macintosh")>-1||o.indexOf("linux")>-1)&&o.indexOf("mobile")<0&&o.indexOf("android")<0,i={tap_pixel_range:5,swipe_h_threshold:50,swipe_v_threshold:50,taphold_threshold:750,doubletap_int:500,touch_capable:"ontouchstart"in window&&!n,orientation_support:"orientation"in window&&"onorientationchange"in window,startevent:"ontouchstart"in window&&!n?"touchstart":"mousedown",endevent:"ontouchstart"in window&&!n?"touchend":"mouseup",moveevent:"ontouchstart"in window&&!n?"touchmove":"mousemove",tapevent:"ontouchstart"in window&&!n?"tap":"click",scrollevent:"ontouchstart"in window&&!n?"touchmove":"scroll",hold_timer:null,tap_timer:null};e.isTouchCapable=function(){return i.touch_capable},e.getStartEvent=function(){return i.startevent},e.getEndEvent=function(){return i.endevent},e.getMoveEvent=function(){return i.moveevent},e.getTapEvent=function(){return i.tapevent},e.getScrollEvent=function(){return i.scrollevent},e.each(["tapstart","tapend","tapmove","tap","tap2","tap3","tap4","singletap","doubletap","taphold","swipe","swipeup","swiperight","swipedown","swipeleft","swipeend","scrollstart","scrollend","orientationchange"],function(t,a){e.fn[a]=function(e){return e?this.on(a,e):this.trigger(a)},e.attrFn[a]=!0}),e.event.special.tapstart={setup:function(){var t=this,o=e(t);o.on(i.startevent,function n(e){if(o.data("callee",n),e.which&&1!==e.which)return!1;var r=e.originalEvent,c={position:{x:i.touch_capable?r.touches[0].screenX:e.screenX,y:i.touch_capable?r.touches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return a(t,"tapstart",e,c),!0})},remove:function(){e(this).off(i.startevent,e(this).data.callee)}},e.event.special.tapmove={setup:function(){var t=this,o=e(t);o.on(i.moveevent,function n(e){o.data("callee",n);var r=e.originalEvent,c={position:{x:i.touch_capable?r.touches[0].screenX:e.screenX,y:i.touch_capable?r.touches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return a(t,"tapmove",e,c),!0})},remove:function(){e(this).off(i.moveevent,e(this).data.callee)}},e.event.special.tapend={setup:function(){var t=this,o=e(t);o.on(i.endevent,function n(e){o.data("callee",n);var r=e.originalEvent,c={position:{x:i.touch_capable?r.changedTouches[0].screenX:e.screenX,y:i.touch_capable?r.changedTouches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(r.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:i.touch_capable?Math.round(r.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};return a(t,"tapend",e,c),!0})},remove:function(){e(this).off(i.endevent,e(this).data.callee)}},e.event.special.taphold={setup:function(){var t,o=this,n=e(o),r={x:0,y:0},c=0,s=0;n.on(i.startevent,function h(e){if(e.which&&1!==e.which)return!1;n.data("tapheld",!1),t=e.target;var p=e.originalEvent,u=Date.now(),l={x:i.touch_capable?p.touches[0].screenX:e.screenX,y:i.touch_capable?p.touches[0].screenY:e.screenY},d={x:i.touch_capable?p.touches[0].pageX-p.touches[0].target.offsetLeft:e.offsetX,y:i.touch_capable?p.touches[0].pageY-p.touches[0].target.offsetTop:e.offsetY};return r.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,r.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,c=r.x,s=r.y,i.hold_timer=window.setTimeout(function(){var f=r.x-c,g=r.y-s;if(e.target==t&&(r.x==c&&r.y==s||f>=-i.tap_pixel_range&&f<=i.tap_pixel_range&&g>=-i.tap_pixel_range&&g<=i.tap_pixel_range)){n.data("tapheld",!0);var v=Date.now(),w={x:i.touch_capable?p.touches[0].screenX:e.screenX,y:i.touch_capable?p.touches[0].screenY:e.screenY},_={x:i.touch_capable?Math.round(p.changedTouches[0].pageX-n.offset().left):Math.round(e.pageX-n.offset().left),y:i.touch_capable?Math.round(p.changedTouches[0].pageY-n.offset().top):Math.round(e.pageY-n.offset().top)},T=v-u,x={startTime:u,endTime:v,startPosition:l,startOffset:d,endPosition:w,endOffset:_,duration:T,target:e.target};n.data("callee1",h),a(o,"taphold",e,x)}},i.taphold_threshold),!0}).on(i.endevent,function p(){n.data("callee2",p),n.data("tapheld",!1),window.clearTimeout(i.hold_timer)}).on(i.moveevent,function u(e){n.data("callee3",u),c=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,s=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY})},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2).off(i.moveevent,e(this).data.callee3)}},e.event.special.doubletap={setup:function(){var t,o,n,r,c=this,s=e(c),h=null,p=!1;s.on(i.startevent,function u(e){return e.which&&1!==e.which?!1:(s.data("doubletapped",!1),t=e.target,s.data("callee1",u),n=e.originalEvent,h||(h={position:{x:i.touch_capable?n.touches[0].screenX:e.screenX,y:i.touch_capable?n.touches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(n.changedTouches[0].pageX-s.offset().left):Math.round(e.pageX-s.offset().left),y:i.touch_capable?Math.round(n.changedTouches[0].pageY-s.offset().top):Math.round(e.pageY-s.offset().top)},time:Date.now(),target:e.target}),!0)}).on(i.endevent,function l(e){var u=Date.now(),d=s.data("lastTouch")||u+1,f=u-d;if(window.clearTimeout(o),s.data("callee2",l),f<i.doubletap_int&&e.target==t&&f>100){s.data("doubletapped",!0),window.clearTimeout(i.tap_timer);var g={position:{x:i.touch_capable?e.originalEvent.changedTouches[0].screenX:e.screenX,y:i.touch_capable?e.originalEvent.changedTouches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(n.changedTouches[0].pageX-s.offset().left):Math.round(e.pageX-s.offset().left),y:i.touch_capable?Math.round(n.changedTouches[0].pageY-s.offset().top):Math.round(e.pageY-s.offset().top)},time:Date.now(),target:e.target},v={firstTap:h,secondTap:g,interval:g.time-h.time};p||(a(c,"doubletap",e,v),h=null),p=!0,r=window.setTimeout(function(){p=!1},i.doubletap_int)}else s.data("lastTouch",u),o=window.setTimeout(function(){h=null,window.clearTimeout(o)},i.doubletap_int,[e]);s.data("lastTouch",u)})},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.singletap={setup:function(){var t=this,o=e(t),n=null,r=null,c={x:0,y:0};o.on(i.startevent,function s(e){return e.which&&1!==e.which?!1:(r=Date.now(),n=e.target,o.data("callee1",s),c.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,c.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,!0)}).on(i.endevent,function h(e){if(o.data("callee2",h),e.target==n){var s=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,p=e.originalEvent.changedTouches?e.originalEvent.changedTouches[0].pageY:e.pageY;i.tap_timer=window.setTimeout(function(){if(!o.data("doubletapped")&&!o.data("tapheld")&&c.x==s&&c.y==p){var n=e.originalEvent,h={position:{x:i.touch_capable?n.changedTouches[0].screenX:e.screenX,y:i.touch_capable?n.changedTouches[0].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(n.changedTouches[0].pageX-o.offset().left):Math.round(e.pageX-o.offset().left),y:i.touch_capable?Math.round(n.changedTouches[0].pageY-o.offset().top):Math.round(e.pageY-o.offset().top)},time:Date.now(),target:e.target};h.time-r<i.taphold_threshold&&a(t,"singletap",e,h)}},i.doubletap_int)}})},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.tap={setup:function(){var t,o,n=this,r=e(n),c=!1,s=null,h={x:0,y:0};r.on(i.startevent,function p(e){return r.data("callee1",p),e.which&&1!==e.which?!1:(c=!0,h.x=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageX:e.pageX,h.y=e.originalEvent.targetTouches?e.originalEvent.targetTouches[0].pageY:e.pageY,t=Date.now(),s=e.target,o=e.originalEvent.targetTouches?e.originalEvent.targetTouches:[e],!0)}).on(i.endevent,function u(e){r.data("callee2",u);var p=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageX:e.pageX,l=e.originalEvent.targetTouches?e.originalEvent.changedTouches[0].pageY:e.pageY,d=h.x-p,f=h.y-l;if(s==e.target&&c&&Date.now()-t<i.taphold_threshold&&(h.x==p&&h.y==l||d>=-i.tap_pixel_range&&d<=i.tap_pixel_range&&f>=-i.tap_pixel_range&&f<=i.tap_pixel_range)){for(var g=e.originalEvent,v=[],w=0;w<o.length;w++){var _={position:{x:i.touch_capable?g.changedTouches[w].screenX:e.screenX,y:i.touch_capable?g.changedTouches[w].screenY:e.screenY},offset:{x:i.touch_capable?Math.round(g.changedTouches[w].pageX-r.offset().left):Math.round(e.pageX-r.offset().left),y:i.touch_capable?Math.round(g.changedTouches[w].pageY-r.offset().top):Math.round(e.pageY-r.offset().top)},time:Date.now(),target:e.target};v.push(_)}a(n,"tap",e,v)}})},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.endevent,e(this).data.callee2)}},e.event.special.swipe={setup:function(){function t(a){c=e(a.currentTarget),c.data("callee1",t),p.x=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageX:a.pageX,p.y=a.originalEvent.targetTouches?a.originalEvent.targetTouches[0].pageY:a.pageY,u.x=p.x,u.y=p.y,s=!0;var o=a.originalEvent;n={position:{x:i.touch_capable?o.touches[0].screenX:a.screenX,y:i.touch_capable?o.touches[0].screenY:a.screenY},offset:{x:i.touch_capable?Math.round(o.changedTouches[0].pageX-c.offset().left):Math.round(a.pageX-c.offset().left),y:i.touch_capable?Math.round(o.changedTouches[0].pageY-c.offset().top):Math.round(a.pageY-c.offset().top)},time:Date.now(),target:a.target}}function a(t){c=e(t.currentTarget),c.data("callee2",a),u.x=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageX:t.pageX,u.y=t.originalEvent.targetTouches?t.originalEvent.targetTouches[0].pageY:t.pageY;var o,r=c.parent().data("xthreshold")?c.parent().data("xthreshold"):c.data("xthreshold"),l=c.parent().data("ythreshold")?c.parent().data("ythreshold"):c.data("ythreshold"),d="undefined"!=typeof r&&r!==!1&&parseInt(r)?parseInt(r):i.swipe_h_threshold,f="undefined"!=typeof l&&l!==!1&&parseInt(l)?parseInt(l):i.swipe_v_threshold;if(p.y>u.y&&p.y-u.y>f&&(o="swipeup"),p.x<u.x&&u.x-p.x>d&&(o="swiperight"),p.y<u.y&&u.y-p.y>f&&(o="swipedown"),p.x>u.x&&p.x-u.x>d&&(o="swipeleft"),void 0!=o&&s){p.x=0,p.y=0,u.x=0,u.y=0,s=!1;var g=t.originalEvent,v={position:{x:i.touch_capable?g.touches[0].screenX:t.screenX,y:i.touch_capable?g.touches[0].screenY:t.screenY},offset:{x:i.touch_capable?Math.round(g.changedTouches[0].pageX-c.offset().left):Math.round(t.pageX-c.offset().left),y:i.touch_capable?Math.round(g.changedTouches[0].pageY-c.offset().top):Math.round(t.pageY-c.offset().top)},time:Date.now(),target:t.target},w=Math.abs(n.position.x-v.position.x),_=Math.abs(n.position.y-v.position.y),T={startEvnt:n,endEvnt:v,direction:o.replace("swipe",""),xAmount:w,yAmount:_,duration:v.time-n.time};h=!0,c.trigger("swipe",T).trigger(o,T)}}function o(t){c=e(t.currentTarget);var a="";if(c.data("callee3",o),h){var r=c.data("xthreshold"),p=c.data("ythreshold"),u="undefined"!=typeof r&&r!==!1&&parseInt(r)?parseInt(r):i.swipe_h_threshold,l="undefined"!=typeof p&&p!==!1&&parseInt(p)?parseInt(p):i.swipe_v_threshold,d=t.originalEvent,f={position:{x:i.touch_capable?d.changedTouches[0].screenX:t.screenX,y:i.touch_capable?d.changedTouches[0].screenY:t.screenY},offset:{x:i.touch_capable?Math.round(d.changedTouches[0].pageX-c.offset().left):Math.round(t.pageX-c.offset().left),y:i.touch_capable?Math.round(d.changedTouches[0].pageY-c.offset().top):Math.round(t.pageY-c.offset().top)},time:Date.now(),target:t.target};n.position.y>f.position.y&&n.position.y-f.position.y>l&&(a="swipeup"),n.position.x<f.position.x&&f.position.x-n.position.x>u&&(a="swiperight"),n.position.y<f.position.y&&f.position.y-n.position.y>l&&(a="swipedown"),n.position.x>f.position.x&&n.position.x-f.position.x>u&&(a="swipeleft");var g=Math.abs(n.position.x-f.position.x),v=Math.abs(n.position.y-f.position.y),w={startEvnt:n,endEvnt:f,direction:a.replace("swipe",""),xAmount:g,yAmount:v,duration:f.time-n.time};c.trigger("swipeend",w)}s=!1,h=!1}var n,r=this,c=e(r),s=!1,h=!1,p={x:0,y:0},u={x:0,y:0};c.on(i.startevent,t),c.on(i.moveevent,a),c.on(i.endevent,o)},remove:function(){e(this).off(i.startevent,e(this).data.callee1).off(i.moveevent,e(this).data.callee2).off(i.endevent,e(this).data.callee3)}},e.event.special.scrollstart={setup:function(){function t(e,t){o=t,a(r,o?"scrollstart":"scrollend",e)}var o,n,r=this,c=e(r);c.on(i.scrollevent,function s(e){c.data("callee",s),o||t(e,!0),clearTimeout(n),n=setTimeout(function(){t(e,!1)},50)})},remove:function(){e(this).off(i.scrollevent,e(this).data.callee)}};var r,c,s,h,p,u=e(window),l={0:!0,180:!0};if(i.orientation_support){var d=window.innerWidth||u.width(),f=window.innerHeight||u.height(),g=50;h=d>f&&d-f>g,p=l[window.orientation],(h&&p||!h&&!p)&&(l={"-90":!0,90:!0})}e.event.special.orientationchange=r={setup:function(){return i.orientation_support?!1:(s=c(),u.on("throttledresize",t),!0)},teardown:function(){return i.orientation_support?!1:(u.off("throttledresize",t),!0)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=c(),t.apply(this,arguments)}}},e.event.special.orientationchange.orientation=c=function(){var e=!0,t=document.documentElement;return e=i.orientation_support?l[window.orientation]:t&&t.clientWidth/t.clientHeight<1.1,e?"portrait":"landscape"},e.event.special.throttledresize={setup:function(){e(this).on("resize",x)},teardown:function(){e(this).off("resize",x)}};var v,w,_,T=250,x=function(){w=Date.now(),_=w-y,_>=T?(y=w,e(this).trigger("throttledresize")):(v&&window.clearTimeout(v),v=window.setTimeout(t,T-_))},y=0;e.each({scrollend:"scrollstart",swipeup:"swipe",swiperight:"swipe",swipedown:"swipe",swipeleft:"swipe",swipeend:"swipe",tap2:"tap"},function(t,a){e.event.special[t]={setup:function(){e(this).on(a,e.noop)}}})}(jQuery);